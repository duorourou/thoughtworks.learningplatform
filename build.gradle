plugins {
  id 'java'
}

group 'com.thoughtworks'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
  compileOnly {
    extendsFrom annotationProcessor
  }
}

repositories {
  mavenCentral()
}

dependencies {
  dependencies {
    implementation (
      "org.projectlombok:lombok:1.18.8"
    )
    annotationProcessor (
      "org.projectlombok:lombok:1.18.8"
    )
  }
}

test {
  useJUnitPlatform()
}

subprojects {
  apply plugin: 'java'
  apply plugin: 'groovy'

  group 'com.thougtworks'
  version '0.0.1-SNAPSHOT'

  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  repositories {
    mavenCentral()
  }

  dependencies {
    implementation(
       "org.codehaus.groovy:groovy-all:2.5.8",
       "org.projectlombok:lombok:1.18.8"
    )
    annotationProcessor(
       "org.projectlombok:lombok:1.18.8"
    )

    testImplementation(
       "org.spockframework:spock-core:2.0-M1-groovy-2.5",
       "junit:junit:4.12"
    )
  }
}